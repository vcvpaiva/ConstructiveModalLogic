% generated by Ott 0.25 from: ott/TCS4.ott
\newcommand{\TLLdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\TLLdrulename{#4}}}
\newcommand{\TLLusedrule}[1]{\[#1\]}
\newcommand{\TLLpremise}[1]{ #1 \\}
\newenvironment{TLLdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{TLLfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\TLLfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\TLLnt}[1]{\mathit{#1}}
\newcommand{\TLLmv}[1]{\mathit{#1}}
\newcommand{\TLLkw}[1]{\mathbf{#1}}
\newcommand{\TLLsym}[1]{#1}
\newcommand{\TLLcom}[1]{\text{#1}}
\newcommand{\TLLdrulename}[1]{\textsc{#1}}
\newcommand{\TLLcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\TLLcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\TLLcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\TLLgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\TLLmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\TLLrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\TLLprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\TLLfirstprodline}[6]{\TLLprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\TLLlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\TLLfirstlongprodline}[2]{\TLLlongprodline{#1}{#2}}
\newcommand{\TLLbindspecprodline}[6]{\TLLprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\TLLprodnewline}{\\}
\newcommand{\TLLinterrule}{\\[5.0mm]}
\newcommand{\TLLafterlastrule}{\\}
\newcommand{\TLLmetavars}{
\TLLmetavartabular{
 $ \mathit{termvar} ,\, \mathit{x} ,\, \mathit{y} $ & \TLLcom{term variable} \\
 $ \TLLmv{index} ,\, \TLLmv{i} ,\, \TLLmv{j} ,\, \TLLmv{k} $ &  \\
}}

\newcommand{\TLLterm}{
\TLLrulehead{\TLLnt{term}  ,\ \TLLnt{t}  ,\ \TLLnt{r}  ,\ \TLLnt{s}  ,\ \TLLnt{n}}{::=}{\TLLcom{term}}\TLLprodnewline
\TLLfirstprodline{|}{\mathit{x}}{}{}{}{\TLLcom{variable}}\TLLprodnewline
\TLLprodline{|}{ \mathsf{contra} }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \lambda  \mathit{x}  :  \TLLnt{T} . \TLLnt{t} }{}{}{}{\TLLcom{unary functions}}\TLLprodnewline
\TLLprodline{|}{\TLLnt{t_{{\mathrm{1}}}} \, \TLLnt{t_{{\mathrm{2}}}}}{}{}{}{\TLLcom{function application}}\TLLprodnewline
\TLLprodline{|}{\Box \, \TLLnt{t}}{}{}{}{\TLLcom{past necessity functor}}\TLLprodnewline
\TLLprodline{|}{\Diamond \, \TLLnt{t}}{}{}{}{\TLLcom{past possibility functor}}\TLLprodnewline
\TLLprodline{|}{\blacksquare \, \TLLnt{t}}{}{}{}{\TLLcom{necessity functor}}\TLLprodnewline
\TLLprodline{|}{\mathbin{\blacklozenge} \, \TLLnt{t}}{}{}{}{\TLLcom{possibility functor}}\TLLprodnewline
\TLLprodline{|}{ \mathsf{let}\,\Box  \TLLnt{t_{{\mathrm{1}}}} : \TLLnt{T}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}} }{}{}{}{\TLLcom{past necessity elim}}\TLLprodnewline
\TLLprodline{|}{ \mathsf{let}\,\blacksquare  \TLLnt{t_{{\mathrm{1}}}} : \TLLnt{T}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}} }{}{}{}{\TLLcom{necessity elim}}\TLLprodnewline
\TLLprodline{|}{ \mathsf{let}\,\Diamond  \TLLnt{t_{{\mathrm{1}}}} : \TLLnt{T}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}} }{}{}{}{\TLLcom{past possibility elim}}\TLLprodnewline
\TLLprodline{|}{ \mathsf{let}\,\blacklozenge  \TLLnt{t_{{\mathrm{1}}}}  : \TLLnt{T}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}} }{}{}{}{\TLLcom{possibility elim}}\TLLprodnewline
\TLLprodline{|}{\TLLsym{[}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{/}  \TLLnt{t}  \TLLsym{]}  \TLLnt{t_{{\mathrm{2}}}}} {\textsf{M}}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLsym{(}  \TLLnt{t}  \TLLsym{)}} {\textsf{S}}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \TLLnt{t} } {\textsf{M}}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{r} \, \TLLkw{R}} {\textsf{M}}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \mathsf{let}\,\mathbin{M}  \TLLnt{t_{{\mathrm{1}}}} : \TLLnt{T}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}} } {\textsf{M}}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \overrightarrow{ \TLLnt{t} } } {\textsf{M}}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \mathbin{M}  \TLLnt{t} } {\textsf{M}}{}{}{}}

\newcommand{\TLLform}{
\TLLrulehead{\TLLnt{form}  ,\ \TLLnt{type}  ,\ \TLLnt{A}  ,\ \TLLnt{B}  ,\ \TLLnt{C}  ,\ \TLLnt{T}}{::=}{\TLLcom{formula and type}}\TLLprodnewline
\TLLfirstprodline{|}{\perp}{}{}{}{\TLLcom{false or the empty type}}\TLLprodnewline
\TLLprodline{|}{\Box \, \TLLnt{A}}{}{}{}{\TLLcom{past necessity}}\TLLprodnewline
\TLLprodline{|}{\blacksquare \, \TLLnt{A}}{}{}{}{\TLLcom{necessity}}\TLLprodnewline
\TLLprodline{|}{\Diamond \, \TLLnt{A}}{}{}{}{\TLLcom{past possibility}}\TLLprodnewline
\TLLprodline{|}{\mathbin{\blacklozenge} \, \TLLnt{A}}{}{}{}{\TLLcom{possibility}}\TLLprodnewline
\TLLprodline{|}{\TLLnt{A}  \to  \TLLnt{B}}{}{}{}{\TLLcom{implication}}\TLLprodnewline
\TLLprodline{|}{ \mathbin{M}  \TLLnt{A} } {\textsf{M}}{}{}{}}

\newcommand{\TLLG}{
\TLLrulehead{\Gamma  ,\ \Delta}{::=}{\TLLcom{type context}}\TLLprodnewline
\TLLfirstprodline{|}{\emptyset}{}{}{}{\TLLcom{empty context}}\TLLprodnewline
\TLLprodline{|}{\TLLnt{A}}{}{}{}{\TLLcom{formula el}}\TLLprodnewline
\TLLprodline{|}{\mathit{x}  \TLLsym{:}  \TLLnt{T}}{}{}{}{\TLLcom{typed el}}\TLLprodnewline
\TLLprodline{|}{\Gamma  \TLLsym{,}  \Gamma'}{}{}{}{\TLLcom{append}}}

\newcommand{\TLLterminals}{
\TLLrulehead{\TLLnt{terminals}}{::=}{}\TLLprodnewline
\TLLfirstprodline{|}{ \emptyset }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \perp }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \vdash }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \Box }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \blacksquare }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \Diamond }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \mathbin{\blacklozenge} }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \to }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \quad } {\textsf{M}}{}{}{}}

\newcommand{\TLLformula}{
\TLLrulehead{\TLLnt{formula}}{::=}{}\TLLprodnewline
\TLLfirstprodline{|}{\TLLnt{judgement}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{formula_{{\mathrm{1}}}}  \quad  \TLLnt{formula_{{\mathrm{2}}}}} {\textsf{M}}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \TLLnt{formula} } {\textsf{S}}{}{}{}\TLLprodnewline
\TLLprodline{|}{ M \in \{\Diamond, \mathbin{\blacklozenge} \} } {\textsf{M}}{}{}{}}

\newcommand{\TLLJtype}{
\TLLrulehead{\TLLnt{Jtype}}{::=}{}\TLLprodnewline
\TLLfirstprodline{|}{\Gamma  \vdash  \TLLnt{A}}{}{}{}{}}

\newcommand{\TLLjudgement}{
\TLLrulehead{\TLLnt{judgement}}{::=}{}\TLLprodnewline
\TLLfirstprodline{|}{\TLLnt{Jtype}}{}{}{}{}}

\newcommand{\TLLuserXXsyntax}{
\TLLrulehead{\TLLnt{user\_syntax}}{::=}{}\TLLprodnewline
\TLLfirstprodline{|}{\mathit{termvar}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLmv{index}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{term}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{form}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\Gamma}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{terminals}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{formula}}{}{}{}{}}

\newcommand{\TLLgrammar}{\TLLgrammartabular{
\TLLterm\TLLinterrule
\TLLform\TLLinterrule
\TLLG\TLLinterrule
\TLLterminals\TLLinterrule
\TLLformula\TLLinterrule
\TLLJtype\TLLinterrule
\TLLjudgement\TLLinterrule
\TLLuserXXsyntax\TLLafterlastrule
}}

% defnss
% defns Jtype
%% defn form

\newcommand{\TLLdefnform}[1]{\begin{TLLdefnblock}[#1]{$\Gamma  \vdash  \TLLnt{A}$}{}
\end{TLLdefnblock}}


\newcommand{\TLLdefnsJtype}{
\TLLdefnform{}}

\newcommand{\TLLdefnss}{
\TLLdefnsJtype
}

\newcommand{\TLLall}{\TLLmetavars\\[0pt]
\TLLgrammar\\[5.0mm]
\TLLdefnss}

