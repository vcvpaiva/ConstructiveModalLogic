% generated by Ott 0.24 from: ott/TCS4.ott
\newcommand{\TLLdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\TLLdrulename{#4}}}
\newcommand{\TLLusedrule}[1]{\[#1\]}
\newcommand{\TLLpremise}[1]{ #1 \\}
\newenvironment{TLLdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{TLLfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\TLLfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\TLLnt}[1]{\mathit{#1}}
\newcommand{\TLLmv}[1]{\mathit{#1}}
\newcommand{\TLLkw}[1]{\mathbf{#1}}
\newcommand{\TLLsym}[1]{#1}
\newcommand{\TLLcom}[1]{\text{#1}}
\newcommand{\TLLdrulename}[1]{\textsc{#1}}
\newcommand{\TLLcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\TLLcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\TLLcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\TLLgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\TLLmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\TLLrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\TLLprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\TLLfirstprodline}[6]{\TLLprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\TLLlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\TLLfirstlongprodline}[2]{\TLLlongprodline{#1}{#2}}
\newcommand{\TLLbindspecprodline}[6]{\TLLprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\TLLprodnewline}{\\}
\newcommand{\TLLinterrule}{\\[5.0mm]}
\newcommand{\TLLafterlastrule}{\\}
\newcommand{\TLLmetavars}{
\TLLmetavartabular{
 $ \mathit{termvar} ,\, \mathit{x} ,\, \mathit{y} $ & \TLLcom{term variable} \\
 $ \TLLmv{index} ,\, \TLLmv{i} ,\, \TLLmv{j} ,\, \TLLmv{k} $ &  \\
}}

\newcommand{\TLLterm}{
\TLLrulehead{\TLLnt{term}  ,\ \TLLnt{t}}{::=}{\TLLcom{term}}\TLLprodnewline
\TLLfirstprodline{|}{\mathit{x}}{}{}{}{\TLLcom{variable}}\TLLprodnewline
\TLLprodline{|}{\mathsf{unit}}{}{}{}{\TLLcom{unit}}\TLLprodnewline
\TLLprodline{|}{\mathsf{contra}}{}{}{}{\TLLcom{contradiction}}\TLLprodnewline
\TLLprodline{|}{\TLLsym{(}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{,}  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{)}}{}{}{}{\TLLcom{pair}}\TLLprodnewline
\TLLprodline{|}{\mathsf{fst}\, \, \TLLnt{t}}{}{}{}{\TLLcom{first projection}}\TLLprodnewline
\TLLprodline{|}{\mathsf{snd}\, \, \TLLnt{t}}{}{}{}{\TLLcom{second projection}}\TLLprodnewline
\TLLprodline{|}{\mathsf{inj}_1\,  \TLLnt{t}}{}{}{}{\TLLcom{first injection}}\TLLprodnewline
\TLLprodline{|}{\mathsf{inj}_2\,  \TLLnt{t}}{}{}{}{\TLLcom{second injection}}\TLLprodnewline
\TLLprodline{|}{ \mathsf{case}\, \TLLnt{t} \,\mathsf{of}\, \mathit{x} . \TLLnt{t_{{\mathrm{1}}}} , \mathit{y} . \TLLnt{t_{{\mathrm{2}}}} }{}{}{}{\TLLcom{sum case}}\TLLprodnewline
\TLLprodline{|}{ \lambda  \mathit{x}  :  \TLLnt{T} . \TLLnt{t} }{}{}{}{\TLLcom{unary functions}}\TLLprodnewline
\TLLprodline{|}{\TLLnt{t_{{\mathrm{1}}}} \, \TLLnt{t_{{\mathrm{2}}}}}{}{}{}{\TLLcom{function application}}\TLLprodnewline
\TLLprodline{|}{\Box \, \TLLnt{t}}{}{}{}{\TLLcom{past necessity functor}}\TLLprodnewline
\TLLprodline{|}{\Diamond \, \TLLnt{t}}{}{}{}{\TLLcom{past possibility functor}}\TLLprodnewline
\TLLprodline{|}{\blacksquare \, \TLLnt{t}}{}{}{}{\TLLcom{necessity functor}}\TLLprodnewline
\TLLprodline{|}{\mathbin{\blacklozenge} \, \TLLnt{t}}{}{}{}{\TLLcom{possibility functor}}\TLLprodnewline
\TLLprodline{|}{ \mathsf{let}\,\Box  \TLLnt{t_{{\mathrm{1}}}}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}} }{}{}{}{\TLLcom{past necessity elim}}\TLLprodnewline
\TLLprodline{|}{ \mathsf{let}\,\blacksquare  \TLLnt{t_{{\mathrm{1}}}}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}} }{}{}{}{\TLLcom{necessity elim}}\TLLprodnewline
\TLLprodline{|}{ \mathsf{let}\,\Diamond  \TLLnt{t_{{\mathrm{1}}}}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}} }{}{}{}{\TLLcom{past possibility elim}}\TLLprodnewline
\TLLprodline{|}{ \mathsf{let}\,\blacklozenge  \TLLnt{t_{{\mathrm{1}}}}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}} }{}{}{}{\TLLcom{possibility elim}}\TLLprodnewline
\TLLprodline{|}{\TLLsym{[}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{/}  \mathit{x}  \TLLsym{]}  \TLLnt{t_{{\mathrm{2}}}}} {\textsf{M}}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLsym{(}  \TLLnt{t}  \TLLsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\TLLform}{
\TLLrulehead{\TLLnt{form}  ,\ \TLLnt{type}  ,\ \TLLnt{A}  ,\ \TLLnt{B}  ,\ \TLLnt{C}  ,\ \TLLnt{T}}{::=}{\TLLcom{formula and type}}\TLLprodnewline
\TLLfirstprodline{|}{\top}{}{}{}{\TLLcom{true or the unit type}}\TLLprodnewline
\TLLprodline{|}{\perp}{}{}{}{\TLLcom{false or the empty type}}\TLLprodnewline
\TLLprodline{|}{\Box \, \TLLnt{A}}{}{}{}{\TLLcom{past necessity}}\TLLprodnewline
\TLLprodline{|}{\blacksquare \, \TLLnt{A}}{}{}{}{\TLLcom{necessity}}\TLLprodnewline
\TLLprodline{|}{\Diamond \, \TLLnt{A}}{}{}{}{\TLLcom{past possibility}}\TLLprodnewline
\TLLprodline{|}{\mathbin{\blacklozenge} \, \TLLnt{A}}{}{}{}{\TLLcom{possibility}}\TLLprodnewline
\TLLprodline{|}{ \TLLnt{A}  \land  \TLLnt{B} }{}{}{}{\TLLcom{conjunction}}\TLLprodnewline
\TLLprodline{|}{ \TLLnt{A}  \lor  \TLLnt{B} }{}{}{}{\TLLcom{disjunction}}\TLLprodnewline
\TLLprodline{|}{\TLLnt{A}  \to  \TLLnt{B}}{}{}{}{\TLLcom{implication}}}

\newcommand{\TLLG}{
\TLLrulehead{\Gamma  ,\ \Delta}{::=}{\TLLcom{type context}}\TLLprodnewline
\TLLfirstprodline{|}{\emptyset}{}{}{}{\TLLcom{empty context}}\TLLprodnewline
\TLLprodline{|}{\TLLnt{A}}{}{}{}{\TLLcom{formula el}}\TLLprodnewline
\TLLprodline{|}{\mathit{x}  \TLLsym{:}  \TLLnt{T}}{}{}{}{\TLLcom{typed el}}\TLLprodnewline
\TLLprodline{|}{\Gamma  \TLLsym{,}  \Gamma'}{}{}{}{\TLLcom{append}}}

\newcommand{\TLLterminals}{
\TLLrulehead{\TLLnt{terminals}}{::=}{}\TLLprodnewline
\TLLfirstprodline{|}{ \mathsf{fst}\, }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \mathsf{snd}\, }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \mathsf{inj}_1\, }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \mathsf{inj}_2\, }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \emptyset }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \top }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \perp }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \vdash }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \Box }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \blacksquare }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \Diamond }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \mathbin{\blacklozenge} }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \to }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \quad } {\textsf{M}}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \mathsf{unit} }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \mathsf{contra} }{}{}{}{}\TLLprodnewline
\TLLprodline{|}{ \rightsquigarrow }{}{}{}{}}

\newcommand{\TLLformula}{
\TLLrulehead{\TLLnt{formula}}{::=}{}\TLLprodnewline
\TLLfirstprodline{|}{\TLLnt{judgement}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{formula_{{\mathrm{1}}}}  \quad  \TLLnt{formula_{{\mathrm{2}}}}} {\textsf{M}}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLsym{(}  \TLLnt{formula}  \TLLsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\TLLJtype}{
\TLLrulehead{\TLLnt{Jtype}}{::=}{}\TLLprodnewline
\TLLfirstprodline{|}{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{A}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t}  \TLLsym{:}  \TLLnt{A}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \TLLnt{t_{{\mathrm{2}}}}}{}{}{}{}}

\newcommand{\TLLjudgement}{
\TLLrulehead{\TLLnt{judgement}}{::=}{}\TLLprodnewline
\TLLfirstprodline{|}{\TLLnt{Jtype}}{}{}{}{}}

\newcommand{\TLLuserXXsyntax}{
\TLLrulehead{\TLLnt{user\_syntax}}{::=}{}\TLLprodnewline
\TLLfirstprodline{|}{\mathit{termvar}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLmv{index}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{term}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{form}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\Gamma}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{terminals}}{}{}{}{}\TLLprodnewline
\TLLprodline{|}{\TLLnt{formula}}{}{}{}{}}

\newcommand{\TLLgrammar}{\TLLgrammartabular{
\TLLterm\TLLinterrule
\TLLform\TLLinterrule
\TLLG\TLLinterrule
\TLLterminals\TLLinterrule
\TLLformula\TLLinterrule
\TLLJtype\TLLinterrule
\TLLjudgement\TLLinterrule
\TLLuserXXsyntax\TLLafterlastrule
}}

% defnss
% defns Jtype
%% defn form
\newcommand{\TLLdruleLXXax}[1]{\TLLdrule[#1]{%
}{
\Gamma  \TLLsym{;}  \Delta  \TLLsym{,}  \TLLnt{A}  \vdash  \TLLnt{A}}{%
{\TLLdrulename{L\_ax}}{}%
}}


\newcommand{\TLLdruleLXXbax}[1]{\TLLdrule[#1]{%
}{
\Gamma  \TLLsym{,}  \TLLnt{A}  \TLLsym{;}  \emptyset  \vdash  \TLLnt{A}}{%
{\TLLdrulename{L\_bax}}{}%
}}


\newcommand{\TLLdruleLXXtrue}[1]{\TLLdrule[#1]{%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \top}{%
{\TLLdrulename{L\_true}}{}%
}}


\newcommand{\TLLdruleLXXfalse}[1]{\TLLdrule[#1]{%
}{
\Gamma  \TLLsym{;}  \Delta  \TLLsym{,}  \perp  \vdash  \TLLnt{A}}{%
{\TLLdrulename{L\_false}}{}%
}}


\newcommand{\TLLdruleLXXconjI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{A}  \quad  \Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash   \TLLnt{A}  \land  \TLLnt{B} }{%
{\TLLdrulename{L\_conjI}}{}%
}}


\newcommand{\TLLdruleLXXconjEOne}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash   \TLLnt{A}  \land  \TLLnt{B} }%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{A}}{%
{\TLLdrulename{L\_conjE1}}{}%
}}


\newcommand{\TLLdruleLXXconjETwo}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash   \TLLnt{A}  \land  \TLLnt{B} }%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{B}}{%
{\TLLdrulename{L\_conjE2}}{}%
}}


\newcommand{\TLLdruleLXXdisjIOne}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash   \TLLnt{A}  \lor  \TLLnt{B} }{%
{\TLLdrulename{L\_disjI1}}{}%
}}


\newcommand{\TLLdruleLXXdisjITwo}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash   \TLLnt{A}  \lor  \TLLnt{B} }{%
{\TLLdrulename{L\_disjI2}}{}%
}}


\newcommand{\TLLdruleLXXdisjE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \TLLsym{,}  \TLLnt{A}  \vdash  \TLLnt{C}}%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \TLLsym{,}  \TLLnt{B}  \vdash  \TLLnt{C}  \quad  \Gamma  \TLLsym{;}  \Delta  \vdash   \TLLnt{A}  \lor  \TLLnt{B} }%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{C}}{%
{\TLLdrulename{L\_disjE}}{}%
}}


\newcommand{\TLLdruleLXXimpI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \TLLsym{,}  \TLLnt{A}  \vdash  \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{A}  \to  \TLLnt{B}}{%
{\TLLdrulename{L\_impI}}{}%
}}


\newcommand{\TLLdruleLXXimpE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{A}  \to  \TLLnt{B}  \quad  \Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{B}}{%
{\TLLdrulename{L\_impE}}{}%
}}


\newcommand{\TLLdruleLXXboxI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \emptyset  \vdash  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \Box \, \TLLnt{A}}{%
{\TLLdrulename{L\_boxI}}{}%
}}


\newcommand{\TLLdruleLXXboxE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \Box \, \TLLnt{A}  \quad  \Gamma  \TLLsym{,}  \TLLnt{A}  \TLLsym{;}  \Delta  \vdash  \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{B}}{%
{\TLLdrulename{L\_boxE}}{}%
}}


\newcommand{\TLLdruleLXXbdiaI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \mathbin{\blacklozenge} \, \TLLnt{A}}{%
{\TLLdrulename{L\_bdiaI}}{}%
}}


\newcommand{\TLLdruleLXXbdiaE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \mathbin{\blacklozenge} \, \TLLnt{A}  \quad  \Gamma  \TLLsym{;}  \TLLnt{A}  \vdash  \mathbin{\blacklozenge} \, \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \mathbin{\blacklozenge} \, \TLLnt{A}}{%
{\TLLdrulename{L\_bdiaE}}{}%
}}


\newcommand{\TLLdruleLXXbboxI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \emptyset  \vdash  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \blacksquare \, \TLLnt{A}}{%
{\TLLdrulename{L\_bboxI}}{}%
}}


\newcommand{\TLLdruleLXXbboxE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \blacksquare \, \TLLnt{A}  \quad  \Gamma  \TLLsym{,}  \TLLnt{A}  \TLLsym{;}  \Delta  \vdash  \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{B}}{%
{\TLLdrulename{L\_bboxE}}{}%
}}


\newcommand{\TLLdruleLXXdiaI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \Diamond \, \TLLnt{A}}{%
{\TLLdrulename{L\_diaI}}{}%
}}


\newcommand{\TLLdruleLXXdiaE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \Diamond \, \TLLnt{A}  \quad  \Gamma  \TLLsym{;}  \TLLnt{A}  \vdash  \Diamond \, \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \Diamond \, \TLLnt{B}}{%
{\TLLdrulename{L\_diaE}}{}%
}}

\newcommand{\TLLdefnform}[1]{\begin{TLLdefnblock}[#1]{$\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{A}$}{}
\TLLusedrule{\TLLdruleLXXax{}}
\TLLusedrule{\TLLdruleLXXbax{}}
\TLLusedrule{\TLLdruleLXXtrue{}}
\TLLusedrule{\TLLdruleLXXfalse{}}
\TLLusedrule{\TLLdruleLXXconjI{}}
\TLLusedrule{\TLLdruleLXXconjEOne{}}
\TLLusedrule{\TLLdruleLXXconjETwo{}}
\TLLusedrule{\TLLdruleLXXdisjIOne{}}
\TLLusedrule{\TLLdruleLXXdisjITwo{}}
\TLLusedrule{\TLLdruleLXXdisjE{}}
\TLLusedrule{\TLLdruleLXXimpI{}}
\TLLusedrule{\TLLdruleLXXimpE{}}
\TLLusedrule{\TLLdruleLXXboxI{}}
\TLLusedrule{\TLLdruleLXXboxE{}}
\TLLusedrule{\TLLdruleLXXbdiaI{}}
\TLLusedrule{\TLLdruleLXXbdiaE{}}
\TLLusedrule{\TLLdruleLXXbboxI{}}
\TLLusedrule{\TLLdruleLXXbboxE{}}
\TLLusedrule{\TLLdruleLXXdiaI{}}
\TLLusedrule{\TLLdruleLXXdiaE{}}
\end{TLLdefnblock}}

%% defn type
\newcommand{\TLLdruletyXXax}[1]{\TLLdrule[#1]{%
}{
\Gamma  \TLLsym{;}  \Delta  \TLLsym{,}  \mathit{x}  \TLLsym{:}  \TLLnt{A}  \vdash  \mathit{x}  \TLLsym{:}  \TLLnt{A}}{%
{\TLLdrulename{ty\_ax}}{}%
}}


\newcommand{\TLLdruletyXXbax}[1]{\TLLdrule[#1]{%
}{
\Gamma  \TLLsym{,}  \mathit{x}  \TLLsym{:}  \TLLnt{A}  \TLLsym{;}  \emptyset  \vdash  \mathit{x}  \TLLsym{:}  \TLLnt{A}}{%
{\TLLdrulename{ty\_bax}}{}%
}}


\newcommand{\TLLdruletyXXtrue}[1]{\TLLdrule[#1]{%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \mathsf{unit}  \TLLsym{:}  \top}{%
{\TLLdrulename{ty\_true}}{}%
}}


\newcommand{\TLLdruletyXXfalse}[1]{\TLLdrule[#1]{%
}{
\Gamma  \TLLsym{;}  \Delta  \TLLsym{,}  \mathit{x}  \TLLsym{:}  \perp  \vdash  \mathsf{contra}  \TLLsym{:}  \TLLnt{A}}{%
{\TLLdrulename{ty\_false}}{}%
}}


\newcommand{\TLLdruletyXXconjI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{:}  \TLLnt{A}  \quad  \Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{:}  \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLsym{(}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{,}  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{)}  \TLLsym{:}   \TLLnt{A}  \land  \TLLnt{B} }{%
{\TLLdrulename{ty\_conjI}}{}%
}}


\newcommand{\TLLdruletyXXconjEOne}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t}  \TLLsym{:}   \TLLnt{A}  \land  \TLLnt{B} }%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \mathsf{fst}\, \, \TLLnt{t}  \TLLsym{:}  \TLLnt{A}}{%
{\TLLdrulename{ty\_conjE1}}{}%
}}


\newcommand{\TLLdruletyXXconjETwo}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t}  \TLLsym{:}   \TLLnt{A}  \land  \TLLnt{B} }%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \mathsf{snd}\, \, \TLLnt{t}  \TLLsym{:}  \TLLnt{B}}{%
{\TLLdrulename{ty\_conjE2}}{}%
}}


\newcommand{\TLLdruletyXXdisjIOne}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t}  \TLLsym{:}  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \mathsf{inj}_1\,  \TLLnt{t}  \TLLsym{:}   \TLLnt{A}  \lor  \TLLnt{B} }{%
{\TLLdrulename{ty\_disjI1}}{}%
}}


\newcommand{\TLLdruletyXXdisjITwo}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t}  \TLLsym{:}  \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \mathsf{inj}_2\,  \TLLnt{t}  \TLLsym{:}   \TLLnt{A}  \lor  \TLLnt{B} }{%
{\TLLdrulename{ty\_disjI2}}{}%
}}


\newcommand{\TLLdruletyXXdisjE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \TLLsym{,}  \mathit{x}  \TLLsym{:}  \TLLnt{A}  \vdash  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{:}  \TLLnt{C}}%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \TLLsym{,}  \mathit{x}  \TLLsym{:}  \TLLnt{B}  \vdash  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{:}  \TLLnt{C}  \quad  \Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t}  \TLLsym{:}   \TLLnt{A}  \lor  \TLLnt{B} }%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash   \mathsf{case}\, \TLLnt{t} \,\mathsf{of}\, \mathit{x} . \TLLnt{t_{{\mathrm{1}}}} , \mathit{x} . \TLLnt{t_{{\mathrm{2}}}}   \TLLsym{:}  \TLLnt{C}}{%
{\TLLdrulename{ty\_disjE}}{}%
}}


\newcommand{\TLLdruletyXXimpI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \TLLsym{,}  \mathit{x}  \TLLsym{:}  \TLLnt{A}  \vdash  \TLLnt{t}  \TLLsym{:}  \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash   \lambda  \mathit{x}  :  \TLLnt{A} . \TLLnt{t}   \TLLsym{:}  \TLLnt{A}  \to  \TLLnt{B}}{%
{\TLLdrulename{ty\_impI}}{}%
}}


\newcommand{\TLLdruletyXXimpE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{:}  \TLLnt{A}  \to  \TLLnt{B}  \quad  \Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{:}  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{1}}}} \, \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{:}  \TLLnt{B}}{%
{\TLLdrulename{ty\_impE}}{}%
}}


\newcommand{\TLLdruletyXXboxI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \emptyset  \vdash  \TLLnt{t}  \TLLsym{:}  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \Box \, \TLLnt{t}  \TLLsym{:}  \Box \, \TLLnt{A}}{%
{\TLLdrulename{ty\_boxI}}{}%
}}


\newcommand{\TLLdruletyXXboxE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{:}  \Box \, \TLLnt{A}  \quad  \Gamma  \TLLsym{,}  \mathit{x}  \TLLsym{:}  \TLLnt{A}  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{:}  \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash   \mathsf{let}\,\Box  \mathit{x}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}   \TLLsym{:}  \TLLnt{B}}{%
{\TLLdrulename{ty\_boxE}}{}%
}}


\newcommand{\TLLdruletyXXbdiaI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t}  \TLLsym{:}  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \mathbin{\blacklozenge} \, \TLLnt{t}  \TLLsym{:}  \mathbin{\blacklozenge} \, \TLLnt{A}}{%
{\TLLdrulename{ty\_bdiaI}}{}%
}}


\newcommand{\TLLdruletyXXbdiaE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{:}  \mathbin{\blacklozenge} \, \TLLnt{A}  \quad  \Gamma  \TLLsym{;}  \mathit{x}  \TLLsym{:}  \TLLnt{A}  \vdash  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{:}  \mathbin{\blacklozenge} \, \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash   \mathsf{let}\,\blacklozenge  \mathit{x}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}   \TLLsym{:}  \mathbin{\blacklozenge} \, \TLLnt{B}}{%
{\TLLdrulename{ty\_bdiaE}}{}%
}}


\newcommand{\TLLdruletyXXbboxI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \emptyset  \vdash  \TLLnt{t}  \TLLsym{:}  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \blacksquare \, \TLLnt{t}  \TLLsym{:}  \blacksquare \, \TLLnt{A}}{%
{\TLLdrulename{ty\_bboxI}}{}%
}}


\newcommand{\TLLdruletyXXbboxE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{:}  \blacksquare \, \TLLnt{A}  \quad  \Gamma  \TLLsym{,}  \mathit{x}  \TLLsym{:}  \TLLnt{A}  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{:}  \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash   \mathsf{let}\,\blacksquare  \mathit{x}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}   \TLLsym{:}  \TLLnt{B}}{%
{\TLLdrulename{ty\_bboxE}}{}%
}}


\newcommand{\TLLdruletyXXdiaI}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t}  \TLLsym{:}  \TLLnt{A}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash  \Diamond \, \TLLnt{t}  \TLLsym{:}  \Diamond \, \TLLnt{A}}{%
{\TLLdrulename{ty\_diaI}}{}%
}}


\newcommand{\TLLdruletyXXdiaE}[1]{\TLLdrule[#1]{%
\TLLpremise{\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{:}  \Diamond \, \TLLnt{A}  \quad  \Gamma  \TLLsym{;}  \mathit{x}  \TLLsym{:}  \TLLnt{A}  \vdash  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{:}  \Diamond \, \TLLnt{B}}%
}{
\Gamma  \TLLsym{;}  \Delta  \vdash   \mathsf{let}\,\Diamond  \mathit{x}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}   \TLLsym{:}  \Diamond \, \TLLnt{B}}{%
{\TLLdrulename{ty\_diaE}}{}%
}}

\newcommand{\TLLdefntype}[1]{\begin{TLLdefnblock}[#1]{$\Gamma  \TLLsym{;}  \Delta  \vdash  \TLLnt{t}  \TLLsym{:}  \TLLnt{A}$}{}
\TLLusedrule{\TLLdruletyXXax{}}
\TLLusedrule{\TLLdruletyXXbax{}}
\TLLusedrule{\TLLdruletyXXtrue{}}
\TLLusedrule{\TLLdruletyXXfalse{}}
\TLLusedrule{\TLLdruletyXXconjI{}}
\TLLusedrule{\TLLdruletyXXconjEOne{}}
\TLLusedrule{\TLLdruletyXXconjETwo{}}
\TLLusedrule{\TLLdruletyXXdisjIOne{}}
\TLLusedrule{\TLLdruletyXXdisjITwo{}}
\TLLusedrule{\TLLdruletyXXdisjE{}}
\TLLusedrule{\TLLdruletyXXimpI{}}
\TLLusedrule{\TLLdruletyXXimpE{}}
\TLLusedrule{\TLLdruletyXXboxI{}}
\TLLusedrule{\TLLdruletyXXboxE{}}
\TLLusedrule{\TLLdruletyXXbdiaI{}}
\TLLusedrule{\TLLdruletyXXbdiaE{}}
\TLLusedrule{\TLLdruletyXXbboxI{}}
\TLLusedrule{\TLLdruletyXXbboxE{}}
\TLLusedrule{\TLLdruletyXXdiaI{}}
\TLLusedrule{\TLLdruletyXXdiaE{}}
\end{TLLdefnblock}}

%% defn red
\newcommand{\TLLdrulerXXbeta}[1]{\TLLdrule[#1]{%
}{
\TLLsym{(}   \lambda  \mathit{x}  :  \TLLnt{A} . \TLLnt{t_{{\mathrm{2}}}}   \TLLsym{)} \, \TLLnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \TLLsym{[}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{/}  \mathit{x}  \TLLsym{]}  \TLLnt{t_{{\mathrm{2}}}}}{%
{\TLLdrulename{r\_beta}}{}%
}}


\newcommand{\TLLdrulerXXfirst}[1]{\TLLdrule[#1]{%
}{
\mathsf{fst}\, \, \TLLsym{(}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{,}  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{)}  \rightsquigarrow  \TLLnt{t_{{\mathrm{1}}}}}{%
{\TLLdrulename{r\_first}}{}%
}}


\newcommand{\TLLdrulerXXsecond}[1]{\TLLdrule[#1]{%
}{
\mathsf{snd}\, \, \TLLsym{(}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{,}  \TLLnt{t_{{\mathrm{2}}}}  \TLLsym{)}  \rightsquigarrow  \TLLnt{t_{{\mathrm{2}}}}}{%
{\TLLdrulename{r\_second}}{}%
}}


\newcommand{\TLLdrulerXXcaseOne}[1]{\TLLdrule[#1]{%
}{
 \mathsf{case}\, \TLLsym{(}  \mathsf{inj}_1\,  \TLLnt{t}  \TLLsym{)} \,\mathsf{of}\, \mathit{x} . \TLLnt{t_{{\mathrm{1}}}} , \mathit{x} . \TLLnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \TLLsym{[}  \TLLnt{t}  \TLLsym{/}  \mathit{x}  \TLLsym{]}  \TLLnt{t_{{\mathrm{1}}}}}{%
{\TLLdrulename{r\_case1}}{}%
}}


\newcommand{\TLLdrulerXXcaseTwo}[1]{\TLLdrule[#1]{%
}{
 \mathsf{case}\, \TLLsym{(}  \mathsf{inj}_2\,  \TLLnt{t}  \TLLsym{)} \,\mathsf{of}\, \mathit{x} . \TLLnt{t_{{\mathrm{1}}}} , \mathit{x} . \TLLnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \TLLsym{[}  \TLLnt{t}  \TLLsym{/}  \mathit{x}  \TLLsym{]}  \TLLnt{t_{{\mathrm{2}}}}}{%
{\TLLdrulename{r\_case2}}{}%
}}


\newcommand{\TLLdrulerXXbox}[1]{\TLLdrule[#1]{%
}{
 \mathsf{let}\,\Box  \mathit{x}  =  \Box \, \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \TLLsym{[}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{/}  \mathit{x}  \TLLsym{]}  \TLLnt{t_{{\mathrm{2}}}}}{%
{\TLLdrulename{r\_box}}{}%
}}


\newcommand{\TLLdrulerXXbdia}[1]{\TLLdrule[#1]{%
}{
 \mathsf{let}\,\blacklozenge  \mathit{x}  =  \mathbin{\blacklozenge} \, \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \TLLsym{[}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{/}  \mathit{x}  \TLLsym{]}  \TLLnt{t_{{\mathrm{2}}}}}{%
{\TLLdrulename{r\_bdia}}{}%
}}


\newcommand{\TLLdrulerXXbbox}[1]{\TLLdrule[#1]{%
}{
 \mathsf{let}\,\blacksquare  \mathit{x}  =  \blacksquare \, \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \TLLsym{[}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{/}  \mathit{x}  \TLLsym{]}  \TLLnt{t_{{\mathrm{2}}}}}{%
{\TLLdrulename{r\_bbox}}{}%
}}


\newcommand{\TLLdrulerXXdia}[1]{\TLLdrule[#1]{%
}{
 \mathsf{let}\,\Diamond  \mathit{x}  =  \Diamond \, \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \TLLsym{[}  \TLLnt{t_{{\mathrm{1}}}}  \TLLsym{/}  \mathit{x}  \TLLsym{]}  \TLLnt{t_{{\mathrm{2}}}}}{%
{\TLLdrulename{r\_dia}}{}%
}}


\newcommand{\TLLdrulerXXboxBox}[1]{\TLLdrule[#1]{%
}{
 \mathsf{let}\,\Box  \mathit{x}  =   \mathsf{let}\,\Box  \mathit{y}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}  \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}}   \rightsquigarrow   \mathsf{let}\,\Box  \mathit{y}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\,  \mathsf{let}\,\Box  \mathit{x}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}}  }{%
{\TLLdrulename{r\_boxBox}}{}%
}}


\newcommand{\TLLdrulerXXbdiaBdia}[1]{\TLLdrule[#1]{%
}{
 \mathsf{let}\,\blacklozenge  \mathit{x}  =   \mathsf{let}\,\blacklozenge  \mathit{y}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}  \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}}   \rightsquigarrow   \mathsf{let}\,\blacklozenge  \mathit{y}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\,  \mathsf{let}\,\blacklozenge  \mathit{x}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}}  }{%
{\TLLdrulename{r\_bdiaBdia}}{}%
}}


\newcommand{\TLLdrulerXXboxBBox}[1]{\TLLdrule[#1]{%
}{
 \mathsf{let}\,\blacksquare  \mathit{x}  =   \mathsf{let}\,\blacksquare  \mathit{y}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}  \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}}   \rightsquigarrow   \mathsf{let}\,\blacksquare  \mathit{y}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\,  \mathsf{let}\,\blacksquare  \mathit{x}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}}  }{%
{\TLLdrulename{r\_boxBBox}}{}%
}}


\newcommand{\TLLdrulerXXdiadia}[1]{\TLLdrule[#1]{%
}{
 \mathsf{let}\,\Diamond  \mathit{x}  =   \mathsf{let}\,\Diamond  \mathit{y}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{2}}}}  \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}}   \rightsquigarrow   \mathsf{let}\,\Diamond  \mathit{y}  =  \TLLnt{t_{{\mathrm{1}}}} \,\mathsf{in}\,  \mathsf{let}\,\Diamond  \mathit{x}  =  \TLLnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \TLLnt{t_{{\mathrm{3}}}}  }{%
{\TLLdrulename{r\_diadia}}{}%
}}

\newcommand{\TLLdefnred}[1]{\begin{TLLdefnblock}[#1]{$\TLLnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \TLLnt{t_{{\mathrm{2}}}}$}{}
\TLLusedrule{\TLLdrulerXXbeta{}}
\TLLusedrule{\TLLdrulerXXfirst{}}
\TLLusedrule{\TLLdrulerXXsecond{}}
\TLLusedrule{\TLLdrulerXXcaseOne{}}
\TLLusedrule{\TLLdrulerXXcaseTwo{}}
\TLLusedrule{\TLLdrulerXXbox{}}
\TLLusedrule{\TLLdrulerXXbdia{}}
\TLLusedrule{\TLLdrulerXXbbox{}}
\TLLusedrule{\TLLdrulerXXdia{}}
\TLLusedrule{\TLLdrulerXXboxBox{}}
\TLLusedrule{\TLLdrulerXXbdiaBdia{}}
\TLLusedrule{\TLLdrulerXXboxBBox{}}
\TLLusedrule{\TLLdrulerXXdiadia{}}
\end{TLLdefnblock}}


\newcommand{\TLLdefnsJtype}{
\TLLdefnform{}\TLLdefntype{}\TLLdefnred{}}

\newcommand{\TLLdefnss}{
\TLLdefnsJtype
}

\newcommand{\TLLall}{\TLLmetavars\\[0pt]
\TLLgrammar\\[5.0mm]
\TLLdefnss}

