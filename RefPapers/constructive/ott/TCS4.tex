% generated by Ott 0.25 from: TCS4.ott
\documentclass[11pt]{article}
\usepackage{amsmath,amssymb}
\usepackage{supertabular}
\usepackage{geometry}
\usepackage{ifthen}
\usepackage{alltt}%hack
\geometry{a4paper,dvips,twoside,left=22.5mm,right=22.5mm,top=20mm,bottom=30mm}
\usepackage{color}
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \mathit{termvar} ,\, \mathit{x} ,\, \mathit{y} $ & \ottcom{term variable} \\
 $ \ottmv{index} ,\, \ottmv{i} ,\, \ottmv{j} ,\, \ottmv{k} $ &  \\
}}

\newcommand{\ottterm}{
\ottrulehead{\ottnt{term}  ,\ \ottnt{t}}{::=}{\ottcom{term}}\ottprodnewline
\ottfirstprodline{|}{\mathit{x}}{}{}{}{\ottcom{variable}}\ottprodnewline
\ottprodline{|}{\mathsf{unit}}{}{}{}{\ottcom{unit}}\ottprodnewline
\ottprodline{|}{\mathsf{contra}}{}{}{}{\ottcom{contradiction}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}}{}{}{}{\ottcom{pair}}\ottprodnewline
\ottprodline{|}{\mathsf{fst}\, \, \ottnt{t}}{}{}{}{\ottcom{first projection}}\ottprodnewline
\ottprodline{|}{\mathsf{snd}\, \, \ottnt{t}}{}{}{}{\ottcom{second projection}}\ottprodnewline
\ottprodline{|}{\mathsf{inj}_1\,  \ottnt{t}}{}{}{}{\ottcom{first injection}}\ottprodnewline
\ottprodline{|}{\mathsf{inj}_2\,  \ottnt{t}}{}{}{}{\ottcom{second injection}}\ottprodnewline
\ottprodline{|}{ \mathsf{case}\, \ottnt{t} \,\mathsf{of}\, \mathit{x} . \ottnt{t_{{\mathrm{1}}}} , \mathit{y} . \ottnt{t_{{\mathrm{2}}}} }{}{}{}{\ottcom{sum case}}\ottprodnewline
\ottprodline{|}{ \lambda  \mathit{x}  :  \ottnt{T} . \ottnt{t} }{}{}{}{\ottcom{unary functions}}\ottprodnewline
\ottprodline{|}{\ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}}{}{}{}{\ottcom{function application}}\ottprodnewline
\ottprodline{|}{\Box \, \ottnt{t}}{}{}{}{\ottcom{past necessity functor}}\ottprodnewline
\ottprodline{|}{\Diamond \, \ottnt{t}}{}{}{}{\ottcom{past possibility functor}}\ottprodnewline
\ottprodline{|}{\blacksquare \, \ottnt{t}}{}{}{}{\ottcom{necessity functor}}\ottprodnewline
\ottprodline{|}{\mathbin{\blacklozenge} \, \ottnt{t}}{}{}{}{\ottcom{possibility functor}}\ottprodnewline
\ottprodline{|}{ \mathsf{let}\,\Box  \ottnt{t_{{\mathrm{1}}}}  =  \ottnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}} }{}{}{}{\ottcom{past necessity elim}}\ottprodnewline
\ottprodline{|}{ \mathsf{let}\,\blacksquare  \ottnt{t_{{\mathrm{1}}}}  =  \ottnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}} }{}{}{}{\ottcom{necessity elim}}\ottprodnewline
\ottprodline{|}{ \mathsf{let}\,\Diamond  \ottnt{t_{{\mathrm{1}}}}  =  \ottnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}} }{}{}{}{\ottcom{past possibility elim}}\ottprodnewline
\ottprodline{|}{ \mathsf{let}\,\blacklozenge  \ottnt{t_{{\mathrm{1}}}}  =  \ottnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}} }{}{}{}{\ottcom{possibility elim}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{t}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottform}{
\ottrulehead{\ottnt{form}  ,\ \ottnt{type}  ,\ \ottnt{A}  ,\ \ottnt{B}  ,\ \ottnt{C}  ,\ \ottnt{T}}{::=}{\ottcom{formula and type}}\ottprodnewline
\ottfirstprodline{|}{\top}{}{}{}{\ottcom{true or the unit type}}\ottprodnewline
\ottprodline{|}{\perp}{}{}{}{\ottcom{false or the empty type}}\ottprodnewline
\ottprodline{|}{\Box \, \ottnt{A}}{}{}{}{\ottcom{past necessity}}\ottprodnewline
\ottprodline{|}{\blacksquare \, \ottnt{A}}{}{}{}{\ottcom{necessity}}\ottprodnewline
\ottprodline{|}{\Diamond \, \ottnt{A}}{}{}{}{\ottcom{past possibility}}\ottprodnewline
\ottprodline{|}{\mathbin{\blacklozenge} \, \ottnt{A}}{}{}{}{\ottcom{possibility}}\ottprodnewline
\ottprodline{|}{ \ottnt{A}  \land  \ottnt{B} }{}{}{}{\ottcom{conjunction}}\ottprodnewline
\ottprodline{|}{ \ottnt{A}  \lor  \ottnt{B} }{}{}{}{\ottcom{disjunction}}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \to  \ottnt{B}}{}{}{}{\ottcom{implication}}}

\newcommand{\ottG}{
\ottrulehead{\Gamma  ,\ \Delta}{::=}{\ottcom{type context}}\ottprodnewline
\ottfirstprodline{|}{\emptyset}{}{}{}{\ottcom{empty context}}\ottprodnewline
\ottprodline{|}{\ottnt{A}}{}{}{}{\ottcom{formula el}}\ottprodnewline
\ottprodline{|}{\mathit{x}  \ottsym{:}  \ottnt{T}}{}{}{}{\ottcom{typed el}}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \Gamma'}{}{}{}{\ottcom{append}}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottterm\ottinterrule
\ottform\ottinterrule
\ottG\ottafterlastrule
}}

% defnss
% defns Jtype
%% defn form
\newcommand{\ottdruleLXXaxName}[0]{\ottdrulename{L\_ax}}
\newcommand{\ottdruleLXXax}[1]{\ottdrule[#1]{%
}{
\Gamma  \ottsym{;}  \Delta  \ottsym{,}  \ottnt{A}  \vdash  \ottnt{A}}{%
{\ottdruleLXXaxName}{}%
}}


\newcommand{\ottdruleLXXbaxName}[0]{\ottdrulename{L\_bax}}
\newcommand{\ottdruleLXXbax}[1]{\ottdrule[#1]{%
}{
\Gamma  \ottsym{,}  \ottnt{A}  \ottsym{;}  \Delta  \vdash  \ottnt{A}}{%
{\ottdruleLXXbaxName}{}%
}}


\newcommand{\ottdruleLXXtrueName}[0]{\ottdrulename{L\_true}}
\newcommand{\ottdruleLXXtrue}[1]{\ottdrule[#1]{%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \top}{%
{\ottdruleLXXtrueName}{}%
}}


\newcommand{\ottdruleLXXfalseName}[0]{\ottdrulename{L\_false}}
\newcommand{\ottdruleLXXfalse}[1]{\ottdrule[#1]{%
}{
\Gamma  \ottsym{;}  \Delta  \ottsym{,}  \perp  \vdash  \ottnt{A}}{%
{\ottdruleLXXfalseName}{}%
}}


\newcommand{\ottdruleLXXconjIName}[0]{\ottdrulename{L\_conjI}}
\newcommand{\ottdruleLXXconjI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{A}  \quad  \Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash   \ottnt{A}  \land  \ottnt{B} }{%
{\ottdruleLXXconjIName}{}%
}}


\newcommand{\ottdruleLXXconjEOneName}[0]{\ottdrulename{L\_conjE1}}
\newcommand{\ottdruleLXXconjEOne}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash   \ottnt{A}  \land  \ottnt{B} }%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{A}}{%
{\ottdruleLXXconjEOneName}{}%
}}


\newcommand{\ottdruleLXXconjETwoName}[0]{\ottdrulename{L\_conjE2}}
\newcommand{\ottdruleLXXconjETwo}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash   \ottnt{A}  \land  \ottnt{B} }%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{B}}{%
{\ottdruleLXXconjETwoName}{}%
}}


\newcommand{\ottdruleLXXdisjIOneName}[0]{\ottdrulename{L\_disjI1}}
\newcommand{\ottdruleLXXdisjIOne}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash   \ottnt{A}  \lor  \ottnt{B} }{%
{\ottdruleLXXdisjIOneName}{}%
}}


\newcommand{\ottdruleLXXdisjITwoName}[0]{\ottdrulename{L\_disjI2}}
\newcommand{\ottdruleLXXdisjITwo}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash   \ottnt{A}  \lor  \ottnt{B} }{%
{\ottdruleLXXdisjITwoName}{}%
}}


\newcommand{\ottdruleLXXdisjEName}[0]{\ottdrulename{L\_disjE}}
\newcommand{\ottdruleLXXdisjE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \ottsym{,}  \ottnt{A}  \vdash  \ottnt{C}}%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \ottsym{,}  \ottnt{B}  \vdash  \ottnt{C}  \quad  \Gamma  \ottsym{;}  \Delta  \vdash   \ottnt{A}  \lor  \ottnt{B} }%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{C}}{%
{\ottdruleLXXdisjEName}{}%
}}


\newcommand{\ottdruleLXXimpIName}[0]{\ottdrulename{L\_impI}}
\newcommand{\ottdruleLXXimpI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \ottsym{,}  \ottnt{A}  \vdash  \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{A}  \to  \ottnt{B}}{%
{\ottdruleLXXimpIName}{}%
}}


\newcommand{\ottdruleLXXimpEName}[0]{\ottdrulename{L\_impE}}
\newcommand{\ottdruleLXXimpE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{A}  \to  \ottnt{B}  \quad  \Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{B}}{%
{\ottdruleLXXimpEName}{}%
}}


\newcommand{\ottdruleLXXboxIName}[0]{\ottdrulename{L\_boxI}}
\newcommand{\ottdruleLXXboxI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \emptyset  \vdash  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \Box \, \ottnt{A}}{%
{\ottdruleLXXboxIName}{}%
}}


\newcommand{\ottdruleLXXboxEName}[0]{\ottdrulename{L\_boxE}}
\newcommand{\ottdruleLXXboxE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \Box \, \ottnt{A}  \quad  \Gamma  \ottsym{,}  \ottnt{A}  \ottsym{;}  \Delta  \vdash  \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{B}}{%
{\ottdruleLXXboxEName}{}%
}}


\newcommand{\ottdruleLXXbdiaIName}[0]{\ottdrulename{L\_bdiaI}}
\newcommand{\ottdruleLXXbdiaI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \mathbin{\blacklozenge} \, \ottnt{A}}{%
{\ottdruleLXXbdiaIName}{}%
}}


\newcommand{\ottdruleLXXbdiaEName}[0]{\ottdrulename{L\_bdiaE}}
\newcommand{\ottdruleLXXbdiaE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \mathbin{\blacklozenge} \, \ottnt{A}  \quad  \Gamma  \ottsym{;}  \ottnt{A}  \vdash  \mathbin{\blacklozenge} \, \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \mathbin{\blacklozenge} \, \ottnt{A}}{%
{\ottdruleLXXbdiaEName}{}%
}}


\newcommand{\ottdruleLXXbboxIName}[0]{\ottdrulename{L\_bboxI}}
\newcommand{\ottdruleLXXbboxI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \emptyset  \vdash  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \blacksquare \, \ottnt{A}}{%
{\ottdruleLXXbboxIName}{}%
}}


\newcommand{\ottdruleLXXbboxEName}[0]{\ottdrulename{L\_bboxE}}
\newcommand{\ottdruleLXXbboxE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \blacksquare \, \ottnt{A}  \quad  \Gamma  \ottsym{,}  \ottnt{A}  \ottsym{;}  \Delta  \vdash  \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{B}}{%
{\ottdruleLXXbboxEName}{}%
}}


\newcommand{\ottdruleLXXdiaIName}[0]{\ottdrulename{L\_diaI}}
\newcommand{\ottdruleLXXdiaI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \Diamond \, \ottnt{A}}{%
{\ottdruleLXXdiaIName}{}%
}}


\newcommand{\ottdruleLXXdiaEName}[0]{\ottdrulename{L\_diaE}}
\newcommand{\ottdruleLXXdiaE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \Diamond \, \ottnt{A}  \quad  \Gamma  \ottsym{;}  \ottnt{A}  \vdash  \Diamond \, \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \Diamond \, \ottnt{B}}{%
{\ottdruleLXXdiaEName}{}%
}}

\newcommand{\ottdefnform}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{A}$}{}
\ottusedrule{\ottdruleLXXax{}}
\ottusedrule{\ottdruleLXXbax{}}
\ottusedrule{\ottdruleLXXtrue{}}
\ottusedrule{\ottdruleLXXfalse{}}
\ottusedrule{\ottdruleLXXconjI{}}
\ottusedrule{\ottdruleLXXconjEOne{}}
\ottusedrule{\ottdruleLXXconjETwo{}}
\ottusedrule{\ottdruleLXXdisjIOne{}}
\ottusedrule{\ottdruleLXXdisjITwo{}}
\ottusedrule{\ottdruleLXXdisjE{}}
\ottusedrule{\ottdruleLXXimpI{}}
\ottusedrule{\ottdruleLXXimpE{}}
\ottusedrule{\ottdruleLXXboxI{}}
\ottusedrule{\ottdruleLXXboxE{}}
\ottusedrule{\ottdruleLXXbdiaI{}}
\ottusedrule{\ottdruleLXXbdiaE{}}
\ottusedrule{\ottdruleLXXbboxI{}}
\ottusedrule{\ottdruleLXXbboxE{}}
\ottusedrule{\ottdruleLXXdiaI{}}
\ottusedrule{\ottdruleLXXdiaE{}}
\end{ottdefnblock}}

%% defn type
\newcommand{\ottdruletyXXaxName}[0]{\ottdrulename{ty\_ax}}
\newcommand{\ottdruletyXXax}[1]{\ottdrule[#1]{%
}{
\Gamma  \ottsym{;}  \Delta  \ottsym{,}  \mathit{x}  \ottsym{:}  \ottnt{A}  \vdash  \mathit{x}  \ottsym{:}  \ottnt{A}}{%
{\ottdruletyXXaxName}{}%
}}


\newcommand{\ottdruletyXXbaxName}[0]{\ottdrulename{ty\_bax}}
\newcommand{\ottdruletyXXbax}[1]{\ottdrule[#1]{%
}{
\Gamma  \ottsym{,}  \mathit{x}  \ottsym{:}  \ottnt{A}  \ottsym{;}  \Delta  \vdash  \mathit{x}  \ottsym{:}  \ottnt{A}}{%
{\ottdruletyXXbaxName}{}%
}}


\newcommand{\ottdruletyXXtrueName}[0]{\ottdrulename{ty\_true}}
\newcommand{\ottdruletyXXtrue}[1]{\ottdrule[#1]{%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \mathsf{unit}  \ottsym{:}  \top}{%
{\ottdruletyXXtrueName}{}%
}}


\newcommand{\ottdruletyXXfalseName}[0]{\ottdrulename{ty\_false}}
\newcommand{\ottdruletyXXfalse}[1]{\ottdrule[#1]{%
}{
\Gamma  \ottsym{;}  \Delta  \ottsym{,}  \mathit{x}  \ottsym{:}  \perp  \vdash  \mathsf{contra}  \ottsym{:}  \ottnt{A}}{%
{\ottdruletyXXfalseName}{}%
}}


\newcommand{\ottdruletyXXconjIName}[0]{\ottdrulename{ty\_conjI}}
\newcommand{\ottdruletyXXconjI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A}  \quad  \Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \ottsym{:}   \ottnt{A}  \land  \ottnt{B} }{%
{\ottdruletyXXconjIName}{}%
}}


\newcommand{\ottdruletyXXconjEOneName}[0]{\ottdrulename{ty\_conjE1}}
\newcommand{\ottdruletyXXconjEOne}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t}  \ottsym{:}   \ottnt{A}  \land  \ottnt{B} }%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \mathsf{fst}\, \, \ottnt{t}  \ottsym{:}  \ottnt{A}}{%
{\ottdruletyXXconjEOneName}{}%
}}


\newcommand{\ottdruletyXXconjETwoName}[0]{\ottdrulename{ty\_conjE2}}
\newcommand{\ottdruletyXXconjETwo}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t}  \ottsym{:}   \ottnt{A}  \land  \ottnt{B} }%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \mathsf{snd}\, \, \ottnt{t}  \ottsym{:}  \ottnt{B}}{%
{\ottdruletyXXconjETwoName}{}%
}}


\newcommand{\ottdruletyXXdisjIOneName}[0]{\ottdrulename{ty\_disjI1}}
\newcommand{\ottdruletyXXdisjIOne}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t}  \ottsym{:}  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \mathsf{inj}_1\,  \ottnt{t}  \ottsym{:}   \ottnt{A}  \lor  \ottnt{B} }{%
{\ottdruletyXXdisjIOneName}{}%
}}


\newcommand{\ottdruletyXXdisjITwoName}[0]{\ottdrulename{ty\_disjI2}}
\newcommand{\ottdruletyXXdisjITwo}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t}  \ottsym{:}  \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \mathsf{inj}_2\,  \ottnt{t}  \ottsym{:}   \ottnt{A}  \lor  \ottnt{B} }{%
{\ottdruletyXXdisjITwoName}{}%
}}


\newcommand{\ottdruletyXXdisjEName}[0]{\ottdrulename{ty\_disjE}}
\newcommand{\ottdruletyXXdisjE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \ottsym{,}  \mathit{x}  \ottsym{:}  \ottnt{A}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{C}}%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \ottsym{,}  \mathit{x}  \ottsym{:}  \ottnt{B}  \vdash  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{C}  \quad  \Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t}  \ottsym{:}   \ottnt{A}  \lor  \ottnt{B} }%
}{
\Gamma  \ottsym{;}  \Delta  \vdash   \mathsf{case}\, \ottnt{t} \,\mathsf{of}\, \mathit{x} . \ottnt{t_{{\mathrm{1}}}} , \mathit{x} . \ottnt{t_{{\mathrm{2}}}}   \ottsym{:}  \ottnt{C}}{%
{\ottdruletyXXdisjEName}{}%
}}


\newcommand{\ottdruletyXXimpIName}[0]{\ottdrulename{ty\_impI}}
\newcommand{\ottdruletyXXimpI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \ottsym{,}  \mathit{x}  \ottsym{:}  \ottnt{A}  \vdash  \ottnt{t}  \ottsym{:}  \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash   \lambda  \mathit{x}  :  \ottnt{A} . \ottnt{t}   \ottsym{:}  \ottnt{A}  \to  \ottnt{B}}{%
{\ottdruletyXXimpIName}{}%
}}


\newcommand{\ottdruletyXXimpEName}[0]{\ottdrulename{ty\_impE}}
\newcommand{\ottdruletyXXimpE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A}  \to  \ottnt{B}  \quad  \Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{B}}{%
{\ottdruletyXXimpEName}{}%
}}


\newcommand{\ottdruletyXXboxIName}[0]{\ottdrulename{ty\_boxI}}
\newcommand{\ottdruletyXXboxI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \emptyset  \vdash  \ottnt{t}  \ottsym{:}  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \Box \, \ottnt{t}  \ottsym{:}  \Box \, \ottnt{A}}{%
{\ottdruletyXXboxIName}{}%
}}


\newcommand{\ottdruletyXXboxEName}[0]{\ottdrulename{ty\_boxE}}
\newcommand{\ottdruletyXXboxE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \Box \, \ottnt{A}  \quad  \Gamma  \ottsym{,}  \mathit{x}  \ottsym{:}  \ottnt{A}  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash   \mathsf{let}\,\Box  \mathit{x}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}   \ottsym{:}  \ottnt{B}}{%
{\ottdruletyXXboxEName}{}%
}}


\newcommand{\ottdruletyXXbdiaIName}[0]{\ottdrulename{ty\_bdiaI}}
\newcommand{\ottdruletyXXbdiaI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t}  \ottsym{:}  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \mathbin{\blacklozenge} \, \ottnt{t}  \ottsym{:}  \mathbin{\blacklozenge} \, \ottnt{A}}{%
{\ottdruletyXXbdiaIName}{}%
}}


\newcommand{\ottdruletyXXbdiaEName}[0]{\ottdrulename{ty\_bdiaE}}
\newcommand{\ottdruletyXXbdiaE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \mathbin{\blacklozenge} \, \ottnt{A}  \quad  \Gamma  \ottsym{;}  \mathit{x}  \ottsym{:}  \ottnt{A}  \vdash  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \mathbin{\blacklozenge} \, \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash   \mathsf{let}\,\blacklozenge  \mathit{x}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}   \ottsym{:}  \mathbin{\blacklozenge} \, \ottnt{B}}{%
{\ottdruletyXXbdiaEName}{}%
}}


\newcommand{\ottdruletyXXbboxIName}[0]{\ottdrulename{ty\_bboxI}}
\newcommand{\ottdruletyXXbboxI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \emptyset  \vdash  \ottnt{t}  \ottsym{:}  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \blacksquare \, \ottnt{t}  \ottsym{:}  \blacksquare \, \ottnt{A}}{%
{\ottdruletyXXbboxIName}{}%
}}


\newcommand{\ottdruletyXXbboxEName}[0]{\ottdrulename{ty\_bboxE}}
\newcommand{\ottdruletyXXbboxE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \blacksquare \, \ottnt{A}  \quad  \Gamma  \ottsym{,}  \mathit{x}  \ottsym{:}  \ottnt{A}  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash   \mathsf{let}\,\blacksquare  \mathit{x}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}   \ottsym{:}  \ottnt{B}}{%
{\ottdruletyXXbboxEName}{}%
}}


\newcommand{\ottdruletyXXdiaIName}[0]{\ottdrulename{ty\_diaI}}
\newcommand{\ottdruletyXXdiaI}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t}  \ottsym{:}  \ottnt{A}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash  \Diamond \, \ottnt{t}  \ottsym{:}  \Diamond \, \ottnt{A}}{%
{\ottdruletyXXdiaIName}{}%
}}


\newcommand{\ottdruletyXXdiaEName}[0]{\ottdrulename{ty\_diaE}}
\newcommand{\ottdruletyXXdiaE}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \Diamond \, \ottnt{A}  \quad  \Gamma  \ottsym{;}  \mathit{x}  \ottsym{:}  \ottnt{A}  \vdash  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \Diamond \, \ottnt{B}}%
}{
\Gamma  \ottsym{;}  \Delta  \vdash   \mathsf{let}\,\Diamond  \mathit{x}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}   \ottsym{:}  \Diamond \, \ottnt{B}}{%
{\ottdruletyXXdiaEName}{}%
}}

\newcommand{\ottdefntype}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \ottsym{;}  \Delta  \vdash  \ottnt{t}  \ottsym{:}  \ottnt{A}$}{}
\ottusedrule{\ottdruletyXXax{}}
\ottusedrule{\ottdruletyXXbax{}}
\ottusedrule{\ottdruletyXXtrue{}}
\ottusedrule{\ottdruletyXXfalse{}}
\ottusedrule{\ottdruletyXXconjI{}}
\ottusedrule{\ottdruletyXXconjEOne{}}
\ottusedrule{\ottdruletyXXconjETwo{}}
\ottusedrule{\ottdruletyXXdisjIOne{}}
\ottusedrule{\ottdruletyXXdisjITwo{}}
\ottusedrule{\ottdruletyXXdisjE{}}
\ottusedrule{\ottdruletyXXimpI{}}
\ottusedrule{\ottdruletyXXimpE{}}
\ottusedrule{\ottdruletyXXboxI{}}
\ottusedrule{\ottdruletyXXboxE{}}
\ottusedrule{\ottdruletyXXbdiaI{}}
\ottusedrule{\ottdruletyXXbdiaE{}}
\ottusedrule{\ottdruletyXXbboxI{}}
\ottusedrule{\ottdruletyXXbboxE{}}
\ottusedrule{\ottdruletyXXdiaI{}}
\ottusedrule{\ottdruletyXXdiaE{}}
\end{ottdefnblock}}

%% defn red
\newcommand{\ottdrulerXXbetaName}[0]{\ottdrulename{r\_beta}}
\newcommand{\ottdrulerXXbeta}[1]{\ottdrule[#1]{%
}{
\ottsym{(}   \lambda  \mathit{x}  :  \ottnt{A} . \ottnt{t_{{\mathrm{2}}}}   \ottsym{)} \, \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottsym{[}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{/}  \mathit{x}  \ottsym{]}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulerXXbetaName}{}%
}}


\newcommand{\ottdrulerXXfirstName}[0]{\ottdrulename{r\_first}}
\newcommand{\ottdrulerXXfirst}[1]{\ottdrule[#1]{%
}{
\mathsf{fst}\, \, \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \rightsquigarrow  \ottnt{t_{{\mathrm{1}}}}}{%
{\ottdrulerXXfirstName}{}%
}}


\newcommand{\ottdrulerXXsecondName}[0]{\ottdrulename{r\_second}}
\newcommand{\ottdrulerXXsecond}[1]{\ottdrule[#1]{%
}{
\mathsf{snd}\, \, \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \rightsquigarrow  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulerXXsecondName}{}%
}}


\newcommand{\ottdrulerXXcaseOneName}[0]{\ottdrulename{r\_case1}}
\newcommand{\ottdrulerXXcaseOne}[1]{\ottdrule[#1]{%
}{
 \mathsf{case}\, \ottsym{(}  \mathsf{inj}_1\,  \ottnt{t}  \ottsym{)} \,\mathsf{of}\, \mathit{x} . \ottnt{t_{{\mathrm{1}}}} , \mathit{x} . \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \ottsym{[}  \ottnt{t}  \ottsym{/}  \mathit{x}  \ottsym{]}  \ottnt{t_{{\mathrm{1}}}}}{%
{\ottdrulerXXcaseOneName}{}%
}}


\newcommand{\ottdrulerXXcaseTwoName}[0]{\ottdrulename{r\_case2}}
\newcommand{\ottdrulerXXcaseTwo}[1]{\ottdrule[#1]{%
}{
 \mathsf{case}\, \ottsym{(}  \mathsf{inj}_2\,  \ottnt{t}  \ottsym{)} \,\mathsf{of}\, \mathit{x} . \ottnt{t_{{\mathrm{1}}}} , \mathit{x} . \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \ottsym{[}  \ottnt{t}  \ottsym{/}  \mathit{x}  \ottsym{]}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulerXXcaseTwoName}{}%
}}


\newcommand{\ottdrulerXXboxName}[0]{\ottdrulename{r\_box}}
\newcommand{\ottdrulerXXbox}[1]{\ottdrule[#1]{%
}{
 \mathsf{let}\,\Box  \mathit{x}  =  \Box \, \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \ottsym{[}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{/}  \mathit{x}  \ottsym{]}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulerXXboxName}{}%
}}


\newcommand{\ottdrulerXXbdiaName}[0]{\ottdrulename{r\_bdia}}
\newcommand{\ottdrulerXXbdia}[1]{\ottdrule[#1]{%
}{
 \mathsf{let}\,\blacklozenge  \mathit{x}  =  \mathbin{\blacklozenge} \, \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \ottsym{[}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{/}  \mathit{x}  \ottsym{]}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulerXXbdiaName}{}%
}}


\newcommand{\ottdrulerXXbboxName}[0]{\ottdrulename{r\_bbox}}
\newcommand{\ottdrulerXXbbox}[1]{\ottdrule[#1]{%
}{
 \mathsf{let}\,\blacksquare  \mathit{x}  =  \blacksquare \, \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \ottsym{[}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{/}  \mathit{x}  \ottsym{]}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulerXXbboxName}{}%
}}


\newcommand{\ottdrulerXXdiaName}[0]{\ottdrulename{r\_dia}}
\newcommand{\ottdrulerXXdia}[1]{\ottdrule[#1]{%
}{
 \mathsf{let}\,\Diamond  \mathit{x}  =  \Diamond \, \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \ottsym{[}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{/}  \mathit{x}  \ottsym{]}  \ottnt{t_{{\mathrm{2}}}}}{%
{\ottdrulerXXdiaName}{}%
}}


\newcommand{\ottdrulerXXboxBoxName}[0]{\ottdrulename{r\_boxBox}}
\newcommand{\ottdrulerXXboxBox}[1]{\ottdrule[#1]{%
}{
 \mathsf{let}\,\Box  \mathit{x}  =   \mathsf{let}\,\Box  \mathit{y}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}  \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}}   \rightsquigarrow   \mathsf{let}\,\Box  \mathit{y}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\,  \mathsf{let}\,\Box  \mathit{x}  =  \ottnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}}  }{%
{\ottdrulerXXboxBoxName}{}%
}}


\newcommand{\ottdrulerXXbdiaBdiaName}[0]{\ottdrulename{r\_bdiaBdia}}
\newcommand{\ottdrulerXXbdiaBdia}[1]{\ottdrule[#1]{%
}{
 \mathsf{let}\,\blacklozenge  \mathit{x}  =   \mathsf{let}\,\blacklozenge  \mathit{y}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}  \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}}   \rightsquigarrow   \mathsf{let}\,\blacklozenge  \mathit{y}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\,  \mathsf{let}\,\blacklozenge  \mathit{x}  =  \ottnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}}  }{%
{\ottdrulerXXbdiaBdiaName}{}%
}}


\newcommand{\ottdrulerXXboxBBoxName}[0]{\ottdrulename{r\_boxBBox}}
\newcommand{\ottdrulerXXboxBBox}[1]{\ottdrule[#1]{%
}{
 \mathsf{let}\,\blacksquare  \mathit{x}  =   \mathsf{let}\,\blacksquare  \mathit{y}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}  \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}}   \rightsquigarrow   \mathsf{let}\,\blacksquare  \mathit{y}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\,  \mathsf{let}\,\blacksquare  \mathit{x}  =  \ottnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}}  }{%
{\ottdrulerXXboxBBoxName}{}%
}}


\newcommand{\ottdrulerXXdiadiaName}[0]{\ottdrulename{r\_diadia}}
\newcommand{\ottdrulerXXdiadia}[1]{\ottdrule[#1]{%
}{
 \mathsf{let}\,\Diamond  \mathit{x}  =   \mathsf{let}\,\Diamond  \mathit{y}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{2}}}}  \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}}   \rightsquigarrow   \mathsf{let}\,\Diamond  \mathit{y}  =  \ottnt{t_{{\mathrm{1}}}} \,\mathsf{in}\,  \mathsf{let}\,\Diamond  \mathit{x}  =  \ottnt{t_{{\mathrm{2}}}} \,\mathsf{in}\, \ottnt{t_{{\mathrm{3}}}}  }{%
{\ottdrulerXXdiadiaName}{}%
}}

\newcommand{\ottdefnred}[1]{\begin{ottdefnblock}[#1]{$\ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t_{{\mathrm{2}}}}$}{}
\ottusedrule{\ottdrulerXXbeta{}}
\ottusedrule{\ottdrulerXXfirst{}}
\ottusedrule{\ottdrulerXXsecond{}}
\ottusedrule{\ottdrulerXXcaseOne{}}
\ottusedrule{\ottdrulerXXcaseTwo{}}
\ottusedrule{\ottdrulerXXbox{}}
\ottusedrule{\ottdrulerXXbdia{}}
\ottusedrule{\ottdrulerXXbbox{}}
\ottusedrule{\ottdrulerXXdia{}}
\ottusedrule{\ottdrulerXXboxBox{}}
\ottusedrule{\ottdrulerXXbdiaBdia{}}
\ottusedrule{\ottdrulerXXboxBBox{}}
\ottusedrule{\ottdrulerXXdiadia{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsJtype}{
\ottdefnform{}\ottdefntype{}\ottdefnred{}}

\newcommand{\ottdefnss}{
\ottdefnsJtype
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

\begin{document}
\ottall

\begin{verbatim}
Definition rules:        53 good    0 bad
Definition rule clauses: 87 good    0 bad
\end{verbatim}
\end{document}
