\documentclass{article}
\usepackage[utf8]{inputenc}

\title{Constructive Temporal Logic, Categorically}
\author{Valeria de Paiva \and Harley Eades III}
\date{October 2015}

\usepackage{natbib}
\usepackage{graphicx}
\usepackage{amssymb, amsthm, amsmath, stmaryrd}
\usepackage[barr]{xy}

%% This renames Barr's \Diamond command so that it doesn't conflict
%% with our modality symbols.
\let\BDiamond\Diamond
\let\Diamond\relax

\usepackage{wasysym}
\usepackage{proof}
\usepackage{enumerate}
\usepackage{todonotes}
\usepackage{hyperref}

\renewcommand{\Box}{\oblong}

\newcommand{\F}{\mathop{\textbf{F}}}
\renewcommand{\P}{\mathop{\textbf{P}}}
\newcommand{\G}{\mathop{\textbf{G}}}
\renewcommand{\H}{\mathop{\textbf{H}}}

\newcommand{\cat}[1]{\mathcal{#1}}
\newcommand{\pd}[0]{\times}
\newcommand{\ihom}[0]{\rightarrow}
\newcommand{\st}[2]{\mathsf{st}_{#1,#2}}
\newcommand{\m}[1]{\mathsf{m}_{#1}}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{example}[theorem]{Example}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{notn}[theorem]{Notation}
\newtheorem{observation}[theorem]{Observation}

\begin{document}

\maketitle

\section{Introduction}
Generally speaking, Temporal Logic is any system of rules and
symbolism for representing, and reasoning about propositions qualified
in terms of time.  Temporal logic is also one of the most traditional
kinds of modal logic, introduced by Arthur Prior in the late 1950s,
%, and for which important results were obtained by Hans Kamp. 
but it is also one of the most controversial kinds of modal logic, as
people have different intuitions about time, how to represent it, and
how to reason about it.

There has been a huge amount of work in Modal Logic in the last sixty
years, but mainly in classical modal logic. We are mostly interested
in constructive systems. In particular we are interested in a
constructive version of temporal logic that satisfies some well-known
and desirable proof-theoretical properties, but that is also
algebraically and category-theoretically well-behaved.

Prior's `Time and Modality' introduced a propositional modal logic
with two temporal connectives (modal operators), $F$ and $P$,
corresponding to ``sometime in the {F}uture" and ``sometime in the
{P}ast". Kamp's thesis introduced the binary temporal operators
``since" and ``until" and proved what came to be known as Kamp's
theorem. Kamp's theorem shows that all temporal operators are
definable in terms of ``since" and ``until" -- provided that the
underlying temporal structure is a continuous linear ordering and
provided that the logical basis is classical.

Ewald \cite{ewald1986} has produced a first version of an
intuitionistically based temporal logic system. Basically, Ewald's
system is a pair of Simpson-style IK operators \cite{simpson1994},
representing past and future over intuituionistic propositional logic.

The intuitive reading of the operators is sensible:
\begin{itemize}
\item $P$ “It has at some time been the case that” 
\item $F$ “It will at some time be the case that” 
\item $H$ “It has always been the case that” 
\item $G$  “It will always be the case that” 
\end{itemize}
Ewald and most of the researchers that followed his path of
constructivization of tense logic, did so assuming a symmetry between
past and future. This symmetry, as well as the symmetry between
universal and existential quantifiers, both in the past and in the
future, are at odds with
%is not very characteristic of 
intuitionistic reasoning.

 Simpson remarks that intuitionistic or constructive modal logic is
 full of interesting questions. As he says:
\begin{quote}
Although much work has been done in the field, there is as yet no
consensus on the correct viewpoint for considering intuitionistic
modal logic.  In particular, there is no single semantic framework
rivalling that of possible world semantics for classical modal logic.
Indeed, there is not even any general agreement on what the
intuitionistic analogue of the basic modal logic, K, is.
\end{quote}
In an intuitionistic logic we do not expect perfect duality between
quantifiers, ($\forall x.P(x)$ is not the same as $\neg \exists x.\neg
P(x)$) or even between conjunction and disjunction (De Morgan laws do
not hold for intuitionistic propositional logic). So one should not
expect a perfect duality between possibility and necessity either.

\section{Constructive Temporal Logics}

Each of the logics presented in this section is an extension of the
single-conclusion formalization of Gentzen's intuitionistic sequent
calculus LJ.  The syntax of formulas for LJ is defined by the
following grammar:
\begin{center}
    \begin{math}
        \begin{array}{lllllllll}
            A & ::= & p \mid \perp \mid A \land A \mid A \lor A \mid A \to B
        \end{array}
    \end{math}
\end{center}
The formula $p$ is taken from a set of countably many propositional
constants.

We begin with an initial set of inference rules, and then each system
presented in this section will be given as an extension of this
initial system.  The set of initial inference rules, which just models
propositional intuitionistic logic, are as follows:
\begin{center}
  \small
  \begin{math}
    \begin{array}{c}
      \begin{array}{cccccccc}
        \infer[\text{Id}]{\Delta,A \vdash A}{
          \,
        }
        & \quad &
        \infer[\text{Cut}]{\Gamma,\Delta \vdash C}{
          \Gamma \vdash B
          &
          B,\Delta \vdash C
        }
        & \quad & 
        \infer[\perp_{\mathcal{L}}]{\Gamma,\perp \; \vdash A}{
          \,
        }\\\\
        \infer[\lor_{\mathcal{L}}]{\Gamma,A \lor B \vdash C}{
          \Gamma,A \vdash C
          &
          \Gamma,B \vdash C
        }
        & \quad &
        \infer[\lor_{\mathcal{R}_1}]{\Gamma \vdash A \lor B}{
          \Gamma \vdash A
        }
        & \quad &
        \infer[\lor_{\mathcal{R}_2}]{\Gamma \vdash A \lor B}{
          \Gamma \vdash B
        }\\\\
        \infer[\land_{\mathcal{L}_1}]{\Gamma,A \land B \vdash C}{
          \Gamma,A \vdash C
        }
        & \quad &
        \infer[\land_{\mathcal{L}_2}]{\Gamma,A \land B \vdash C}{
          \Gamma,B \vdash C
        }
        & \quad &
        \infer[\land_{\mathcal{R}}]{\Gamma \vdash A \land B}{
          \Gamma \vdash A
          &
          \Gamma \vdash B
        }\\\\
        
      \end{array}
      \\
      \begin{array}{cccccccc}
        \infer[\to_{\mathcal{L}}]{\Gamma,A \to B \vdash C}{
          \Gamma \vdash A
          &
          \Gamma,B \vdash C
        }
        & \quad &
        \infer[\to_{\mathcal{R}}]{\Gamma \vdash A \to B}{
          \Gamma, A \vdash B
        }
      \end{array}        
    \end{array}
  \end{math}
\end{center}
Sequents denoted $\Gamma \vdash C$ consist of a multiset of formulas,
denoted by either $\Gamma$, $\Delta$, or a numbered version of the
two, and a formula $C$.

\subsection{The constructive system S4} 

In this section we recall the sequent calculus formalization of system
CS4.  This formalization was initially denoted by IS4 (Intuitionistic
modal logic S4) and was proposed by Bierman and de Paiva \cite{CS4}.
This systems gives rise to a complete family of systems, which are
alternatives to Simpson's intuitionistic systems. Since Simpson's
systems, a framework starting from intuitionistic K, were also called
IK, IS4, IS5, it makes sense to call the family of systems originating
with the S4 above, the family of constructive modal systems CS, and
Bierman and de Paiva's system CS4.  This is for instance how
\cite{arisaka2015} describe these systems.

The main difference between systems IS4 and CS4 concerns the binary
distribution of $\Diamond$ over disjunction
$\Diamond (A \lor B) \to \Diamond A \lor \Diamond B$
and its nullary form $\Diamond \bot\bot$.

The following rules, in addition to
the initial set of inference rules, defines the sequent calculus for CS4:
\begin{center}
  \begin{math}
    \begin{array}{ccccc}              
      \infer[\Box_{\mathcal{L}}]{\Gamma, \Box A \vdash B}{
        \Gamma,A \vdash B
      }
      & \quad &
      \infer[\Box_{\mathcal{R}}]{\Box\Gamma,\Delta \vdash \Box A}{
        \Box \Gamma \vdash A
      }\\\\
      \infer[\Diamond_{\mathcal{L}}]{\Delta,\Box\Gamma,\Diamond A \vdash \Diamond B}{
        \Box\Gamma,A \vdash \Diamond B
      }
      & \quad &
      \infer[\Diamond_{\mathcal{R}}]{\Gamma \vdash \Diamond A}{
        \Gamma \vdash A
      }
    \end{array}        
  \end{math}
\end{center}
This system is indeed constructive, and hence, $\Box A$ is not
logically equivalent to $\lnot \Diamond \lnot A$, and $\Diamond A$ is
not logically equivalent to $\lnot \Box \lnot A$.

This system is very well behaved proof theoretically. Bierman and de
Paiva show that it has a Hilbert-style presentation, and a Natural
Deduction one, as well as a sequent formulation. The sequent calculus
satisfies cut-elimination, an old result from Ohnishi and Matsumoto
\cite{ohnishi1957} as well as the subformula property.

The Natural Deduction formulation has a colourful history, described
in \cite{CS4}. One of its distinct features is that it was described
in Prawitz' seminal book in Natural Deduction \cite{prawitz1965},
hence it is still sometimes called Prawitz modal logic.

Most interestingly the system has both Kripke and categorical
semantics, described respectively in \cite{alechinaetal} and
\cite{CS4}. Since we can prove a Curry-Howard correspondence for this
system, it has been used in several applications within programming
language theory \todo{Add references for these applications}.
%Examples include \cite{hmm}.

\subsection{Presenting CS4 as LNL}
It is not so well-known, but this system can also be given a
presentation in terms of a categorical adjunction, between two
cartesian closed categories.

This is described in both \cite{CS4} and \cite{icalp1998}. In
\cite{CS4} this is called the multicontext formulation of CS4 and the
rules are given (page 17) as follows:

\begin{center}
  \begin{math}
    \begin{array}{ccccc}              
      \infer[\Box_{\mathcal{I}}]{\Gamma; \Delta \vdash \Box A}{
        \Gamma;\emptyset \vdash  A
      }
      & \quad &
      \infer[\Box_{\mathcal{E}}]{\Gamma;\Delta \vdash B}{\Gamma; \Delta \vdash \Box A \hspace{.1in}
        \Gamma, A;\Delta \vdash B
      }\\\\
      \infer[\Diamond_{\mathcal{I}}]{\Gamma;\Delta \vdash \Diamond A}{
        \Gamma;\Delta \vdash A
      }
      & \quad &
      \infer[\Diamond_{\mathcal{E}}]{\Gamma;\Delta \vdash \Diamond B}{
        \Gamma ;\Delta \vdash \Diamond A \hspace{.1in}\Gamma; A\vdash \Diamond B
      }
    \end{array}        
  \end{math}
\end{center}

These rules have been shown by Benton \cite{benton1995} and Barber to
correspond to an adjunction of the categories.  \todo{add description
  from Benton here}

\subsection{Models of CS4}
\label{subsec:single_adjoint_model_of_cs4}
%\todo{Threw this in a subsection for now, we can move it around, and reword as needed.} sounds good!

This section depends on the definitions of the
categorical concepts of monoidal category, monoidal functor, and
monoidal adjunction, as well as the concepts of monoidal comonad and monad. 

A monoidal category is simply a category $\cat{C}$  equipped with a tensor product structure $(\otimes, I, \alpha, \rho, \lambda)$, a generalization of traditional categorical products. A monoidal functor between two monoidal categories $\cat{C}$ and $\cat{D}$ is simply a functor $F\colon \cat{C} \to \cat{D}$ that relates the monoidal structures, that is, there are natural transformations  $F(A)\otimes F(B)\to F(A \otimes B)$, for each $A,B$ in $\cat{C}$ (as well as a map $m_1\colon \top \to F(\top)$) that interact well with the monoidal structures  in $\cat{C}$ and  $\cat{D}$ (older books insist on an isomorphism between the tensor structures, we only require coherent natural transformations). A monoidal adjunction is an adjunction  where both functors are monoidal and the unit, and co-unit are monoidal natural trasnformations too. A monoidal comonad is a comonad on a monoidal category, with extra structure preserving the monoidal structure and similarly for the monoidal monads.
Due to space limitations we omit their full
definitions see \cite{benton1995} for their details.
Similarly, for the definitions of monoidal comonad and monad see
\cite{CS4}.

We do need to recall however the notion of a functor-strong monad. In particular we are interested in $\Box$-strong monads.

\begin{definition}[$\Box$-strong monad]
  \label{def:comonad-strong-monad}
  Suppose $(\Box, \epsilon, \delta)$ is a (monoidal) comonad on a
  cartesian closed category $\cat{C}$.  Then a \emph{$\Box$-strong
    monad} is a monad $(\Diamond,\eta,\mu)$ on $\cat{C}$ such that
  there exists a natural transformation:
  \[
  \st{A}{B} : \Box A \pd \Diamond B \to \Diamond(\Box A \pd B)
  \]
  subject to the following coherence conditions:
  
\end{definition}

\begin{definition}[model of CS4]
  \label{def:comonad-strong-monad}
  Suppose $\cat{C}$ is a cartesian category equipped with  a monoidal comonad $(\Box, \epsilon, \delta)$ and a
  \emph{$\Box$-strong monad} with the strength natural transformation
  \[
  \st{A}{B} : \Box A \pd \Diamond B \to \Diamond(\Box A \pd B)
  \]
  This is a model of CS4 as defined and showed sound and complete in \cite{CS4}.
\end{definition}

Now we want to see how to transform a model of CS4 using a pair comonad-monad as above into a model of the same system using adjunctions.  Benton showed a similar result for linear type theory in \cite{benton1995}.


\begin{definition}
  \label{def:CS4-single-adjoint-cat-model}
  An adjoint categorical model of CS4 consists of the following data:
  \begin{enumerate}
  \item A cartesian-closed category with coproducts $(\cat{C},1,0,\pd,+,\ihom)$;
  \item 
  %A pair of monoidal functors, $(J,n) : \cat{C} \to \cat{C}$ and A
    monoidal adjunction $J \dashv H$, where $(H,m) \colon \cat{C} \to
    \cat{C}$ and $(J,n)\colon \cat{C} \to \cat{C}$ are monoidal
    functors such that their composition HJ is a monoidal comonad
    (written as $\Box$);
  \item A $\Box$-strong monad $(\Diamond, \eta, \mu, \st{A}{B})$ subject to some conditions.
  \end{enumerate}
\end{definition}

Now the monoidal adjunction provides us with a monidal monad in \cat{C}. Which conditions do we need in the adjunction to make this monad, $\Box$-strong?


%This definition of a categorical model of CS4 can be made much more symmetric, if we are in a situation where the HJ-strong monad $\Diamond$ is the left adjoint

% subsection single_adjoint_model_of_cs4 (end)

\section{Forward and Backward CS4}
%\section{Twice as nice?}

%(half of) the rules below in Ewald's system.

\subsection{Heyting algebras with adjunctions HAA}
\todo{Need to define HAA (Heyting algebras with adjunctions) and see if we
can show a reasonable duality theorem similar to Menni and Smith's
corollary 3.5}
Menni and Smith \cite{Menni:2014} define a \textit{lattice with
  adjunction} as a triple $(A, L, R)$ where $A$ is a lattice, and $L,
R$ are monotone functions on $A$ that form a preorder $L\dashv R$
adjunction.


\subsection{Ewald's Temporal Logic}

Ewald proposed an intuitionistic temporal logic where the usual modal
operators, $\Box$ and $\Diamond$, have been decomposed into more
traditional temporal operators $\F$, $\H$, $\G$, and
$\P$~\cite{ewald1986}.

The sequent calculus formalization of Ewald's temporal logic is
defined by the following inference rules in addition to the initial
intuitionistic set of inference rules given above:
\begin{center}
  \small
  \begin{math}
    \begin{array}{cccccc}
      \infer[\text{G}]{\G \Gamma \vdash \G C}{
        \Gamma \vdash C
      }
      & \quad &
      \infer[\text{H}]{\H\Gamma \vdash \H C}{
        \Gamma \vdash C
      }\\\\
      \infer[\text{F}]{\G\Gamma,\F A \vdash \F B}{
        \Gamma,A \vdash B
      }
      & \quad &
      \infer[\text{P}]{\H\Gamma,\P A \vdash \P B}{
        \Gamma,A \vdash B
      }\\\\
      \infer[\text{FH}]{\cdot \vdash \F\H A \to A}{
        \,
      }
      & \quad &
      \infer[\text{HF}]{\cdot \vdash A \to \H\F A}{
        \,
      }\\\\
      \infer[\text{PG}]{\cdot \vdash \P\G A \to A}{
        \,
      }
      & \quad &
      \infer[\text{GP}]{\cdot \vdash A \to \G\P A}{
        \,
      }\\\\
      \infer[\text{FG}_1]{\cdot \vdash (\F A \to \G B) \to \G(A \to B)}{
        \,
      }
      & \quad &
      \infer[\text{FG}_2]{\cdot \vdash \F(A \to B) \to (\G A \to \F B)}{
        \,
      }\\\\
      \infer[\text{PH}_1]{\cdot \vdash (\P A \to \H B) \to \H(A \to B)}{
        \,
      }
      & \quad &
      \infer[\text{PH}_2]{\cdot \vdash \P(A \to B) \to (\H A \to \P B)}{
        \,
      }      
    \end{array}
  \end{math}
\end{center}
Looking at Ewald's system with a present day categorical perspective
it is easy to see that these new operators can be seen as adjoint
functors~\cite{Menni:2014}.

The rules $\text{G}$ and $\text{H}$ show that $\G$ and $\H$ are
functors, similarly, the rules $\text{F}$ and $\text{P}$ do the same
for the operators $\F$ and $\P$ when $\Gamma = \cdot$.  Then the rules
$\text{FH}$ and $\text{HF}$ give the co-unit and unit of the
adjunction $\F \dashv \H$, and the rules $\text{PG}$ and $\text{GP}$
give the co-unit and unit of the adjunction $\P \dashv \G$.

The following describes the intuitive meaning of each of Ewald's
operators:
\begin{itemize}
\item[] $\F$: ``it will once be the case in the Future``  
\item[] $\H$: ``it Has always been the case in the past``
\item[] $\P$: ``it was once the case in the Past``
\item[] $\G$: ``it's Going to  always be the case in the future``  
\end{itemize}


Using these operators it is possible to define the  modal
operators by choosing one of the following definitions
\cite{ewald1986}:
\begin{enumerate}[i.]
\item $\Box A := A \land \G A \land \H A$, $\Diamond A := A \lor \F A \lor \P A$; or
\item $\Box A := A \land \G A$, $\Diamond A := A \lor \F A$.
\end{enumerate}

This system has a Kripke model, and an axiomatization (page 171 of
\cite{ewald1986}), and is decidable.  Lastly, Ewald shows that by
adopting various axioms for the modal operators different notions of
time can be studied within this system.

\section{Conclusion}
%``I always thought something was fundamentally wrong with the universe'' 

\bibliographystyle{plain}
\bibliography{references}
\end{document}

References:
Ewald's paper:Intuitionistic tense and modal logic
http://journals.cambridge.org/action/displayAbstract?fromPage=online&aid=9081918&fileId=S0022481200031650

Bierman and de Paiva:On an Intuitionistic Modal Logic (2001)
(I'm now calling CS4 what was in this paper IS4)
http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.30.5279

Modalities in Constructive Logics and Type Theories Preface to the special issue on Intuitionistic Modal Logic and Application of the Journal of Logic and Computation, volume 14, number 4, August 2004. Guest Editors: Valeria de Paiva, Rajeev Gore' and Michael Mendler.
http://www.cs.bham.ac.uk/~vdp/publications/final-preface.pdf

and

http://logcom.oxfordjournals.org/content/early/2015/06/12/logcom.exv042.extract
